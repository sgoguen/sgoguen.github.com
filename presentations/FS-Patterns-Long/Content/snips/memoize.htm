<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml">
<head><link rel="stylesheet" type="text/css" href="style.css" />
<script type="text/javascript" src="tips.js"></script></head><body>
<h2>Caches any function</h2>
<pre class="fssnip">
<span class="l">1: </span><span class="k">let</span> <span onmouseout="hideTip(event, 'fstips1', 1)" onmouseover="showTip(event, 'fstips1', 1)" class="i">memoize</span> (<span onmouseout="hideTip(event, 'fstips2', 2)" onmouseover="showTip(event, 'fstips2', 2)" class="i">f</span><span class="o">:</span><span class="o">'</span><span class="i">a</span> <span class="k">-&gt;</span> <span class="o">'</span><span class="i">b</span>) <span class="o">=</span>
<span class="l">2: </span>  <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips3', 3)" onmouseover="showTip(event, 'fstips3', 3)" class="i">dict</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fstips4', 4)" onmouseover="showTip(event, 'fstips4', 4)" class="i">Dictionary</span><span class="o">&lt;</span><span class="o">'</span><span class="i">a</span>,<span class="o">'</span><span class="i">b</span><span class="o">&gt;</span>()
<span class="l">3: </span>  <span class="k">fun</span> <span onmouseout="hideTip(event, 'fstips5', 5)" onmouseover="showTip(event, 'fstips5', 5)" class="i">x</span> <span class="k">-&gt;</span>
<span class="l">4: </span>    <span class="k">match</span> <span onmouseout="hideTip(event, 'fstips3', 6)" onmouseover="showTip(event, 'fstips3', 6)" class="i">dict</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips6', 7)" onmouseover="showTip(event, 'fstips6', 7)" class="i">TryGetValue</span>(<span onmouseout="hideTip(event, 'fstips5', 8)" onmouseover="showTip(event, 'fstips5', 8)" class="i">x</span>) <span class="k">with</span>
<span class="l">5: </span>    | (<span class="k">true</span>, <span onmouseout="hideTip(event, 'fstips7', 9)" onmouseover="showTip(event, 'fstips7', 9)" class="i">value</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fstips7', 10)" onmouseover="showTip(event, 'fstips7', 10)" class="i">value</span>
<span class="l">6: </span>    | (<span class="k">false</span>, _) <span class="k">-&gt;</span>
<span class="l">7: </span>        <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips8', 11)" onmouseover="showTip(event, 'fstips8', 11)" class="i">result</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips2', 12)" onmouseover="showTip(event, 'fstips2', 12)" class="i">f</span>(<span onmouseout="hideTip(event, 'fstips5', 13)" onmouseover="showTip(event, 'fstips5', 13)" class="i">x</span>)
<span class="l">8: </span>        <span onmouseout="hideTip(event, 'fstips3', 14)" onmouseover="showTip(event, 'fstips3', 14)" class="i">dict</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips9', 15)" onmouseover="showTip(event, 'fstips9', 15)" class="i">Add</span>(<span onmouseout="hideTip(event, 'fstips5', 16)" onmouseover="showTip(event, 'fstips5', 16)" class="i">x</span>,<span onmouseout="hideTip(event, 'fstips8', 17)" onmouseover="showTip(event, 'fstips8', 17)" class="i">result</span>)
<span class="l">9: </span>        <span onmouseout="hideTip(event, 'fstips8', 18)" onmouseover="showTip(event, 'fstips8', 18)" class="i">result</span><a target="_blank" class="fssniplink" href="http://tomasp.net/fswebsnippets">F# Web Snippets</a>
</pre>
<h2>Our uncached function</h2>
<pre class="fssnip">
<span class="l">1: </span><span class="k">let</span> <span onmouseout="hideTip(event, 'fstips10', 19)" onmouseover="showTip(event, 'fstips10', 19)" class="i">GetFileCount</span> <span onmouseout="hideTip(event, 'fstips11', 20)" onmouseover="showTip(event, 'fstips11', 20)" class="i">root</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips11', 21)" onmouseover="showTip(event, 'fstips11', 21)" class="i">root</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fstips12', 22)" onmouseover="showTip(event, 'fstips12', 22)" class="i">Directory</span><span class="o">.</span><span class="i">EnumerateFiles</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fstips13', 23)" onmouseover="showTip(event, 'fstips13', 23)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips14', 24)" onmouseover="showTip(event, 'fstips14', 24)" class="i">length</span><a target="_blank" class="fssniplink" href="http://tomasp.net/fswebsnippets">F# Web Snippets</a>
</pre>
<h2>Let's cache it</h2>
<pre class="fssnip">
<span class="l">1: </span><span class="k">let</span> <span onmouseout="hideTip(event, 'fstips15', 25)" onmouseover="showTip(event, 'fstips15', 25)" class="i">GetFileCountCached</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips10', 26)" onmouseover="showTip(event, 'fstips10', 26)" class="i">GetFileCount</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fstips1', 27)" onmouseover="showTip(event, 'fstips1', 27)" class="i">memoize</span><a target="_blank" class="fssniplink" href="http://tomasp.net/fswebsnippets">F# Web Snippets</a>
</pre>
<h2>Subsequent calls will read from the dictionary</h2>
<pre class="fssnip">
<span class="l">1: </span><span onmouseout="hideTip(event, 'fstips15', 28)" onmouseover="showTip(event, 'fstips15', 28)" class="i">GetFileCountCached</span>(<span class="s">@&quot;</span><span class="s">C</span><span class="s">:</span><span class="s">\</span><span class="s">Projects</span><span class="s">\</span><span class="s">Websites</span><span class="s">\</span><span class="s">&quot;</span>)<a target="_blank" class="fssniplink" href="http://tomasp.net/fswebsnippets">F# Web Snippets</a>
</pre>


<!-- HTML code for ToolTips -->
<div class="tip" id="fstips1">val memoize : ('a -&gt; 'b) -&gt; ('a -&gt; 'b) (requires equality)<br /><br />Full name: Memoize.memoize<br /></div>
<div class="tip" id="fstips2">val f : ('a -&gt; 'b) (requires equality)<br /></div>
<div class="tip" id="fstips3">val dict : Dictionary&lt;'a,'b&gt; (requires equality)<br /><br />&#160;&#160;type: Dictionary&lt;'a,'b&gt;<br />&#160;&#160;implements: IDictionary&lt;'a,'b&gt;<br />&#160;&#160;implements: ICollection&lt;KeyValuePair&lt;'a,'b&gt;&gt;<br />&#160;&#160;implements: seq&lt;KeyValuePair&lt;'a,'b&gt;&gt;<br />&#160;&#160;implements: System.Collections.IDictionary<br />&#160;&#160;implements: System.Collections.ICollection<br />&#160;&#160;implements: System.Collections.IEnumerable<br />&#160;&#160;implements: System.Runtime.Serialization.ISerializable<br />&#160;&#160;implements: System.Runtime.Serialization.IDeserializationCallback<br /></div>
<div class="tip" id="fstips4">type Dictionary&lt;'TKey,'TValue&gt; =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;new : unit -&gt; System.Collections.Generic.Dictionary&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;new : int -&gt; System.Collections.Generic.Dictionary&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;new : System.Collections.Generic.IEqualityComparer&lt;'TKey&gt; -&gt; System.Collections.Generic.Dictionary&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;new : int * System.Collections.Generic.IEqualityComparer&lt;'TKey&gt; -&gt; System.Collections.Generic.Dictionary&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;new : System.Collections.Generic.IDictionary&lt;'TKey,'TValue&gt; -&gt; System.Collections.Generic.Dictionary&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;new : System.Collections.Generic.IDictionary&lt;'TKey,'TValue&gt; * System.Collections.Generic.IEqualityComparer&lt;'TKey&gt; -&gt; System.Collections.Generic.Dictionary&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;member Add : 'TKey * 'TValue -&gt; unit<br />&#160;&#160;&#160;&#160;member Clear : unit -&gt; unit<br />&#160;&#160;&#160;&#160;member Comparer : System.Collections.Generic.IEqualityComparer&lt;'TKey&gt;<br />&#160;&#160;&#160;&#160;member ContainsKey : 'TKey -&gt; bool<br />&#160;&#160;&#160;&#160;member ContainsValue : 'TValue -&gt; bool<br />&#160;&#160;&#160;&#160;member Count : int<br />&#160;&#160;&#160;&#160;member GetEnumerator : unit -&gt; Enumerator&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;member GetObjectData : System.Runtime.Serialization.SerializationInfo * System.Runtime.Serialization.StreamingContext -&gt; unit<br />&#160;&#160;&#160;&#160;member Item : 'TKey -&gt; 'TValue with get, set<br />&#160;&#160;&#160;&#160;member Keys : KeyCollection&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;member OnDeserialization : obj -&gt; unit<br />&#160;&#160;&#160;&#160;member Remove : 'TKey -&gt; bool<br />&#160;&#160;&#160;&#160;member TryGetValue : 'TKey * 'TValue -&gt; bool<br />&#160;&#160;&#160;&#160;member Values : ValueCollection&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;type Enumerator =<br />&#160;&#160;&#160;&#160;&#160;&#160;struct<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member Current : System.Collections.Generic.KeyValuePair&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member MoveNext : unit -&gt; bool<br />&#160;&#160;&#160;&#160;&#160;&#160;end<br />&#160;&#160;&#160;&#160;type KeyCollection =<br />&#160;&#160;&#160;&#160;&#160;&#160;class<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;new : System.Collections.Generic.Dictionary&lt;'TKey,'TValue&gt; -&gt; KeyCollection<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member CopyTo : 'TKey [] * int -&gt; unit<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member Count : int<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member GetEnumerator : unit -&gt; Enumerator&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;type Enumerator =<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member Current : 'TKey<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member MoveNext : unit -&gt; bool<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br />&#160;&#160;&#160;&#160;&#160;&#160;end<br />&#160;&#160;&#160;&#160;type ValueCollection =<br />&#160;&#160;&#160;&#160;&#160;&#160;class<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;new : System.Collections.Generic.Dictionary&lt;'TKey,'TValue&gt; -&gt; ValueCollection<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member CopyTo : 'TValue [] * int -&gt; unit<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member Count : int<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member GetEnumerator : unit -&gt; Enumerator&lt;'TKey,'TValue&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;type Enumerator =<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member Current : 'TValue<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;member MoveNext : unit -&gt; bool<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br />&#160;&#160;&#160;&#160;&#160;&#160;end<br />&#160;&#160;end<br /><br />Full name: System.Collections.Generic.Dictionary&lt;_,_&gt;<br /><br />&#160;&#160;type: Dictionary&lt;'TKey,'TValue&gt;<br />&#160;&#160;implements: IDictionary&lt;'TKey,'TValue&gt;<br />&#160;&#160;implements: ICollection&lt;KeyValuePair&lt;'TKey,'TValue&gt;&gt;<br />&#160;&#160;implements: seq&lt;KeyValuePair&lt;'TKey,'TValue&gt;&gt;<br />&#160;&#160;implements: System.Collections.IDictionary<br />&#160;&#160;implements: System.Collections.ICollection<br />&#160;&#160;implements: System.Collections.IEnumerable<br />&#160;&#160;implements: System.Runtime.Serialization.ISerializable<br />&#160;&#160;implements: System.Runtime.Serialization.IDeserializationCallback<br /></div>
<div class="tip" id="fstips5">val x : 'a (requires equality)<br /></div>
<div class="tip" id="fstips6">Dictionary.TryGetValue(key: 'a, value: byref&lt;'b&gt;) : bool<br /></div>
<div class="tip" id="fstips7">val value : 'b<br /></div>
<div class="tip" id="fstips8">val result : 'b<br /></div>
<div class="tip" id="fstips9">Dictionary.Add(key: 'a, value: 'b) : unit<br /></div>
<div class="tip" id="fstips10">val GetFileCount : 'a -&gt; int<br /><br />Full name: Memoize.GetFileCount<br /></div>
<div class="tip" id="fstips11">val root : 'a<br /></div>
<div class="tip" id="fstips12">type Directory =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;static member CreateDirectory : string -&gt; System.IO.DirectoryInfo<br />&#160;&#160;&#160;&#160;static member CreateDirectory : string * System.Security.AccessControl.DirectorySecurity -&gt; System.IO.DirectoryInfo<br />&#160;&#160;&#160;&#160;static member Delete : string -&gt; unit<br />&#160;&#160;&#160;&#160;static member Delete : string * bool -&gt; unit<br />&#160;&#160;&#160;&#160;static member Exists : string -&gt; bool<br />&#160;&#160;&#160;&#160;static member GetAccessControl : string -&gt; System.Security.AccessControl.DirectorySecurity<br />&#160;&#160;&#160;&#160;static member GetAccessControl : string * System.Security.AccessControl.AccessControlSections -&gt; System.Security.AccessControl.DirectorySecurity<br />&#160;&#160;&#160;&#160;static member GetCreationTime : string -&gt; System.DateTime<br />&#160;&#160;&#160;&#160;static member GetCreationTimeUtc : string -&gt; System.DateTime<br />&#160;&#160;&#160;&#160;static member GetCurrentDirectory : unit -&gt; string<br />&#160;&#160;&#160;&#160;static member GetDirectories : string -&gt; string []<br />&#160;&#160;&#160;&#160;static member GetDirectories : string * string -&gt; string []<br />&#160;&#160;&#160;&#160;static member GetDirectories : string * string * System.IO.SearchOption -&gt; string []<br />&#160;&#160;&#160;&#160;static member GetDirectoryRoot : string -&gt; string<br />&#160;&#160;&#160;&#160;static member GetFileSystemEntries : string -&gt; string []<br />&#160;&#160;&#160;&#160;static member GetFileSystemEntries : string * string -&gt; string []<br />&#160;&#160;&#160;&#160;static member GetFiles : string -&gt; string []<br />&#160;&#160;&#160;&#160;static member GetFiles : string * string -&gt; string []<br />&#160;&#160;&#160;&#160;static member GetFiles : string * string * System.IO.SearchOption -&gt; string []<br />&#160;&#160;&#160;&#160;static member GetLastAccessTime : string -&gt; System.DateTime<br />&#160;&#160;&#160;&#160;static member GetLastAccessTimeUtc : string -&gt; System.DateTime<br />&#160;&#160;&#160;&#160;static member GetLastWriteTime : string -&gt; System.DateTime<br />&#160;&#160;&#160;&#160;static member GetLastWriteTimeUtc : string -&gt; System.DateTime<br />&#160;&#160;&#160;&#160;static member GetLogicalDrives : unit -&gt; string []<br />&#160;&#160;&#160;&#160;static member GetParent : string -&gt; System.IO.DirectoryInfo<br />&#160;&#160;&#160;&#160;static member Move : string * string -&gt; unit<br />&#160;&#160;&#160;&#160;static member SetAccessControl : string * System.Security.AccessControl.DirectorySecurity -&gt; unit<br />&#160;&#160;&#160;&#160;static member SetCreationTime : string * System.DateTime -&gt; unit<br />&#160;&#160;&#160;&#160;static member SetCreationTimeUtc : string * System.DateTime -&gt; unit<br />&#160;&#160;&#160;&#160;static member SetCurrentDirectory : string -&gt; unit<br />&#160;&#160;&#160;&#160;static member SetLastAccessTime : string * System.DateTime -&gt; unit<br />&#160;&#160;&#160;&#160;static member SetLastAccessTimeUtc : string * System.DateTime -&gt; unit<br />&#160;&#160;&#160;&#160;static member SetLastWriteTime : string * System.DateTime -&gt; unit<br />&#160;&#160;&#160;&#160;static member SetLastWriteTimeUtc : string * System.DateTime -&gt; unit<br />&#160;&#160;end<br /><br />Full name: System.IO.Directory<br /></div>
<div class="tip" id="fstips13">module Seq<br /><br />from Microsoft.FSharp.Collections<br /></div>
<div class="tip" id="fstips14">val length : seq&lt;'T&gt; -&gt; int<br /><br />Full name: Microsoft.FSharp.Collections.Seq.length<br /></div>
<div class="tip" id="fstips15">val GetFileCountCached : (string -&gt; int)<br /><br />Full name: Memoize.GetFileCountCached<br /></div>
</body></html>
