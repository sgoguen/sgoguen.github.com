<html>
<head>	
	<link rel="stylesheet" type="text/css" href="demo.css" />
	<script language="javascript" src="jquery.js"></script>
	
	<Script>
	<!--
		$(document).ready(function() {
			
			//  Toggle the class for each double-click
			$("li").dblclick(function() {
				$(this).toggleClass("collapsed");				
				return false;  //  Stop's propagation
			});

			
			//  Add checkboxes
			$("li").prepend("<input type='checkbox'>");

			//  Add event handlers to checkboxes
			$("input[@type=checkbox]").click(function() {
				if($(this).attr("checked")) {
					$(this).parent().addClass("selected").find("li").addClass("parent_selected");
				} else {
					$(this).parent().removeClass("selected").find("li").removeClass("parent_selected");
				}
				
				update_selection();
				return true;
			});
			
			function update_selection() {
				$("#selected-items").empty();
				$("li.selected").clone().each(function() {
					$(this).children("ul,input").remove();
				}).appendTo("#selected-items");			
			}
			
			$("#show_hide").click(function() {
				$("body li").not(".selected,.parent_selected").toggle();
			});
			
		});
	//-->
	</Script>
</head>
<body>

<h1>Organization</h1>

<a id="show_hide" href="#show">Show/Hide Unselected</a>

<ul>
	<li>Animal
		<ul>
			<li>Dogs
				<ul>
					<li>Lassie</li>
					<li>Ol' Yeller</li>
				</ul>
			</li>
			<li>Horses
				<ul>
					<li>Mr. Ed</li>
					<li>Seabiscuit</li>
				</ul>
			</li>
			<li>People
				<ul>
					<li>Brendan Eich</li>
					<li>Eric Meyer</li>
					<li>John Resig</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>Vegitable
		<ul>
			<li>Onions</li>
			<li>Lettuce</li>
		</ul>
	</li>
	<li>Mineral
		<ul>
			<li>Sulfides
				<ul>
					<li>Galena</li>
					<li>Pyrite</li>
				</ul>
			</li>
			<li>Carbonates
				<ul>
					<li>Bismutite</li>
					<li>Calcite</li>
				</ul>
			</li>
		</ul>
	</li>	
</ul>

<ul id="selected-items">

</ul>

</body>
</html>